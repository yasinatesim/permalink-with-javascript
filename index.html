<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Seflink with Javascript</title>
    <style>
      html,
      body {
        background: #f1f1f1;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        width: 100%;
        height: 100%;
        padding:20px;
      }

      #text {
        border: 1px solid #d1d1d1;
        background-color: #ddd;
        border-radius: 5px;
        padding: 15px;
      }

      #text:focus {
        background-color: #ddd;
        outline: 1px solid #d1d1d1;
      }

      #submit-button {
        width: 300px;
        height: 45px;
        background-color: #d1d1d1;
        margin-top: 30px;
        color: #555;
        border: none;
        border-radius: 5px;
      }

      #copy-check {
        position: fixed;
        top: 2%;
        right: -200px;
        display: inline-block;
        background: #353535;
        padding: 10px 20px;
        border-radius: 5px;
        color: #fff;
        box-shadow: 0px 3px 2px 0px rgba(0, 0, 0, 0.32);
        transition: all 0.3s ease;
      }
    </style>
  </head>
  <body>
    <textarea cols="150" rows="40" id="text" autofocus></textarea>
    <button id="submit-button">Submit & Copy</button>

    <div id="copy-check">Copied</div>

    <script type="text/javascript">
      var submitButton = document.querySelector("#submit-button");

      function permalink(str) {
        str = str.replace(/ı/g, "i");
        str = str.replace(/İ/g, "i");
        str = str.replace(/ş/g, "s");
        str = str.replace(/ü/g, "u");
        str = str.replace(/ğ/g, "g");
        str = str.replace(/ç/g, "c");
        str = str.replace(/ö/g, "o");

        str = str.replace(/[^0-9a-zA-Z]/g, "-");
        str = str.replace(/-+/g, "-");
        str = str.replace(/^\-+|\-+$/g, "");

        str = str.toLowerCase();

        return copyTextToClipboard(str);
      }

      submitButton.addEventListener("click", function() {
        var text = document.querySelector("#text").value;
        permalink(text);

        document.querySelector("#copy-check").style.right = "20px";

        setInterval(function() {
          document.querySelector("#copy-check").style.right = "-200px";
        }, 1000);

        document.querySelector("#text").value = "";
        document.querySelector("#text").focus();
      });

      //copy the clipboard
      function fallbackCopyTextToClipboard(text) {
        var textArea = document.createElement("textarea");
        textArea.value = text;
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        document.body.removeChild(textArea);
      }
      function copyTextToClipboard(text) {
        if (!navigator.clipboard) {
          fallbackCopyTextToClipboard(text);
          return;
        }
        navigator.clipboard.writeText(text);
      }
    </script>
  </body>
</html>
